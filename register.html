
<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>рд░рдХреНрддрджрд╛рддрд╛ рдкрдВрдЬреАрдХрд░рдг тАв рд░рдХреНрддрджрд╛рддрд╛ рдкреЛрд░реНрдЯрд▓</title>
  
<!-- Tailwind + Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: { devanagari: ['"Noto Sans Devanagari"', 'system-ui', 'sans-serif'] },
        colors: {
          saffron: { 50:'#FFF4E8',100:'#FFE8D6',200:'#FFD7B3',300:'#FFC48A',400:'#FFA24D',500:'#FF7F0E',600:'#E06900',700:'#C25700',800:'#A34500',900:'#873800' },
          peach: { 50:'#FFF7EF',100:'#FFEFE0',200:'#FFE3C6' }
        }
      }
    }
  }
</script>
<style> body { font-family: "Noto Sans Devanagari", system-ui, sans-serif; } </style>

</head>
<body class="min-h-screen bg-slate-50">
  
<header class="bg-gradient-to-r from-saffron-800 to-saffron-600 text-white">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <div></div>
    <nav class="flex gap-2 text-sm">
      <a href="index.html" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">рдбреЛрдирд░ рд╕рд░реНрдЪ</a>
      <a href="register.html" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">рд░рдХреНрддрджрд╛рддрд╛ рдкрдВрдЬреАрдХрд░рдг</a>
      <a href="admin.html" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">Admin</a>
    </nav>
  </div>
</header>

  
<section class="relative overflow-hidden">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-b from-white via-peach-50 to-white opacity-95"></div>
    <div class="absolute inset-0 bg-[url('https://upload.wikimedia.org/wikipedia/commons/6/6d/Official_portrait_of_prime_minister_of_India%2C_Narendra_Modi.jpg')] bg-cover bg-right opacity-15"></div>
  </div>
  <div class="relative max-w-6xl mx-auto px-4 py-8">
    <div class="mx-auto text-center bg-white/70 backdrop-blur-sm border rounded-3xl px-4 sm:px-6 py-6 shadow">
      <div class="text-slate-800 text-base sm:text-lg font-semibold">рднрд╛рд░рддреАрдп рдЬрдирддрд╛ рдкрд╛рд░реНрдЯреА тАв рдЬрд┐рд▓рд╛ рдордВрджрд╕реМрд░</div>
      <div class="mt-1 text-4xl sm:text-5xl font-extrabold text-red-700">рд░рдХреНрддрджрд╛рддрд╛ рдкреЛрд░реНрдЯрд▓</div>
      <p class="mt-3 text-slate-700 text-sm sm:text-base max-w-3xl mx-auto">
        рдорд╛рдирдиреАрдп рдкреНрд░рдзрд╛рдирдордВрддреНрд░реА рд╢реНрд░реА рдирд░реЗрдВрджреНрд░ рдореЛрджреА рдЬреА рдХреЗ рдЬрдиреНрдо рджрд┐рд╡рд╕ <b>17 рд╕рд┐рддрдореНрдмрд░</b> рдХреЗ рдЕрд╡рд╕рд░ рдкрд░,
        <b>рд╕реЗрд╡рд╛ рдкрдЦрд╡рд╛рдбрд╝рд╛ (17 рд╕рд┐рддрдореНрдмрд░ тАФ 2 рдЕрдХреНрдЯреВрдмрд░ 2025)</b> рд╣реЗрддреБ рдпрд╣ рдкреЛрд░реНрдЯрд▓ рдЖрдо рдирд╛рдЧрд░рд┐рдХреЛрдВ рдХреА рд╕реЗрд╡рд╛ рдореЗрдВ рд╕рдорд░реНрдкрд┐рдд рд╣реИред
      </p>
      <div class="mt-4 inline-flex items-center gap-3 bg-white rounded-2xl px-3 py-2 border">
        <img src="seva-pakhwada-2025-clean-1024.png" alt="рд╕реЗрд╡рд╛ рдкрдЦрд╡рд╛рдбрд╝рд╛ 2025" class="h-12 w-auto rounded" />
        <span class="text-sm">рд░рдХреНрддрджрд╛рди тАв рд╕реЗрд╡рд╛ тАв рд╕рд╣рдпреЛрдЧ</span>
      </div>
    </div>
  </div>
</section>


  <main class="max-w-6xl mx-auto p-4 space-y-4">
    <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-sm border">
      <h1 class="text-xl font-bold text-saffron-800 mb-1">рд░рдХреНрддрджрд╛рддрд╛ рдкрдВрдЬреАрдХрд░рдг рдлрд╝реЙрд░реНрдо</h1>
      <p class="text-sm text-slate-600 mb-4">рдХреГрдкрдпрд╛ рд╕рд╣реА рдЬрд╛рдирдХрд╛рд░реА рднрд░реЗрдВ тАФ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрдбрд╝рдиреЗ рдкрд░ рдЖрдкрд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред</p>

      <form id="donorForm" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div>
          <label class="text-sm text-slate-600">рдкреВрд░рд╛ рдирд╛рдо</label>
          <input required id="f_name" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="рдЬреИрд╕реЗ: рд░рд╛рдо рд╢рд░реНрдорд╛" />
        </div>
        <div>
          <label class="text-sm text-slate-600">рдореЛрдмрд╛рдЗрд▓</label>
          <input required id="f_phone" pattern="[0-9]{10}" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="10 рдЕрдВрдХреЛрдВ рдХрд╛ рдирдВрдмрд░" />
        </div>
        <div>
          <label class="text-sm text-slate-600">рд╡реНрд╣рд╛рдЯреНрд╕рдРрдк рдирдВрдмрд░ (рд╡реИрдХрд▓реНрдкрд┐рдХ)</label>
          <input id="f_whatsapp" pattern="[0-9]{10}" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="optional" />
        </div>
        <div>
          <label class="text-sm text-slate-600">рдмреНрд▓рдб рдЧреНрд░реБрдк</label>
          <select required id="f_group" class="mt-1 w-full rounded-xl border px-4 py-3 text-base"></select>
        </div>
        <div>
          <label class="text-sm text-slate-600">рдордВрдбрд▓ (рд╡реИрдХрд▓реНрдкрд┐рдХ)</label>
          <select id="f_mandal" class="mt-1 w-full rounded-xl border px-4 py-3 text-base"></select>
        </div>
        <div>
          <label class="text-sm text-slate-600">рд╡рд╛рд░реНрдб / рдмреВрде / рдкрддрд╛</label>
          <input id="f_address" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="рдЙрджрд╛рд╣рд░рдг: рд╡рд╛рд░реНрдб 12, рдмреВрде 45, рд░рд╛рдо рдЯреЗрдХрд░реА рд░реЛрдб" />
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="text-sm text-slate-600">рдЙрдореНрд░</label>
            <input type="number" min="18" max="65" id="f_age" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="18-65" />
          </div>
          <div>
            <label class="text-sm text-slate-600">рд▓рд┐рдВрдЧ</label>
            <select id="f_gender" class="mt-1 w-full rounded-xl border px-4 py-3 text-base">
              <option value="">рдЪреБрдиреЗрдВ</option>
              <option value="рдкреБрд░реБрд╖">рдкреБрд░реБрд╖</option>
              <option value="рдорд╣рд┐рд▓рд╛">рдорд╣рд┐рд▓рд╛</option>
              <option value="рдЕрдиреНрдп">рдЕрдиреНрдп</option>
            </select>
          </div>
        </div>
        <div>
          <label class="text-sm text-slate-600">рдЖрдЦрд╝рд┐рд░реА рд░рдХреНрддрджрд╛рди (рдпрджрд┐ рдХрд┐рдпрд╛ рд╣реИ)</label>
          <input type="date" id="f_last" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" />
        </div>
        <div>
          <label class="text-sm text-slate-600">рдХреНрдпрд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрдбрд╝рдиреЗ рдкрд░ рдЖрдкрдХреЛ рд░рдХреНрдд рджрд╛рди рдХреЗ рд▓рд┐рдП рд╕рдВрдкрд░реНрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?</label>
          <select id="f_willing" class="mt-1 w-full rounded-xl border px-4 py-3 text-base">
            <option value="yes">рд╣рд╛рдБ</option>
            <option value="no">рдирд╣реАрдВ</option>
          </select>
        </div>
        <div class="sm:col-span-2">
          <label class="text-sm text-slate-600">рдиреЛрдЯреНрд╕</label>
          <textarea id="f_notes" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" rows="3" placeholder="рд╡рд┐рд╢реЗрд╖ рдЬрд╛рдирдХрд╛рд░реА (рдЙрджрд╛рд╣рд░рдг: рдЙрдкрд▓рдмреНрдз рд╕рдордп)"></textarea>
        </div>
        <div class="sm:col-span-2 flex items-center gap-3">
          <button class="px-5 py-3 rounded-xl bg-saffron-700 text-white font-semibold">рдЬрдорд╛ рдХрд░реЗрдВ</button>
          <span id="formMsg" class="text-sm"></span>
        </div>
      </form>
    </div>
  </main>

  <footer class="max-w-6xl mx-auto p-4 text-xs text-slate-500 text-center">┬й <span id="year"></span> рднрд╛рд░рддреАрдп рдЬрдирддрд╛ рдкрд╛рд░реНрдЯреА тАв рдЬрд┐рд▓рд╛ рдордВрджрд╕реМрд░</footer>

  <script type="module">
    const TELEGRAM_BOT_TOKEN = "8462350268:AAH2Za886P4VPrLbLWa-RcxL0pbRNwwIfKQ";
    const TELEGRAM_CHAT_ID = "@bjpbloodbot";

    const MANDALS = (arr => (arr.includes("рдЕрдиреНрдп")? arr : ["рдЕрдиреНрдп", ...arr]))(__MANDALS__);
    const BLOOD_GROUPS = __BGS__;
    const $ = (id)=>document.getElementById(id);

    document.getElementById('year').textContent = new Date().getFullYear();
    const fill = (el, arr, first)=>{ try{ el.innerHTML=''; if(first) el.insertAdjacentHTML('beforeend', `<option value="">${first}</option>`); arr.forEach(x=> el.insertAdjacentHTML('beforeend', `<option value="${x}">${x}</option>`)); }catch(e){ console.error(e);} }
    fill(document.getElementById('f_group'), BLOOD_GROUPS, 'рдЪреБрдиреЗрдВ');
    fill(document.getElementById('f_mandal'), MANDALS, 'рдЪреБрдиреЗрдВ');

    const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js');
    const { getFirestore, collection, addDoc, serverTimestamp } = await import('https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js');
    __FIREBASE__
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    document.getElementById('donorForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const msg = document.getElementById('formMsg'); msg.textContent='';
      try {
        const payload = {
          name: document.getElementById('f_name').value.trim(),
          phone: document.getElementById('f_phone').value.trim().replace(/[^0-9]/g,''),
          whatsapp: document.getElementById('f_whatsapp').value.trim().replace(/[^0-9]/g,''),
          bloodGroup: document.getElementById('f_group').value,
          mandal: document.getElementById('f_mandal').value,
          address: document.getElementById('f_address').value.trim(),
          age: document.getElementById('f_age').value ? Number(document.getElementById('f_age').value) : null,
          gender: document.getElementById('f_gender').value,
          lastDonationDate: document.getElementById('f_last').value ? new Date(document.getElementById('f_last').value) : null,
          willing: document.getElementById('f_willing').value === 'yes',
          notes: document.getElementById('f_notes').value.trim(),
          createdAt: serverTimestamp(),
        };
        await addDoc(collection(db,'donors'), payload);
        msg.textContent = 'тЬЕ рдзрдиреНрдпрд╡рд╛рдж! рдЖрдкрдХрд╛ рд╡рд┐рд╡рд░рдг рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЬрдорд╛ рд╣реЛ рдЧрдпрд╛ред';

        // Telegram notify
        fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text:
            `ЁЯЖХ рдирдпрд╛ рд░рдХреНрддрджрд╛рддрд╛\nрдирд╛рдо: ${payload.name}\nрдореЛрдмрд╛рдЗрд▓: ${payload.phone}\nрдмреНрд▓рдб: ${payload.bloodGroup||'-'}\nрдордВрдбрд▓: ${payload.mandal||'-'}\nрдкрддрд╛: ${payload.address||'-'}`
          })
        }).catch(()=>{});

        document.getElementById('donorForm').reset();
      } catch(err) {
        console.error(err); msg.textContent = 'тЭМ рддреНрд░реБрдЯрд┐: рдХреГрдкрдпрд╛ рдмрд╛рдж рдореЗрдВ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред';
      }
    });
  </script>
</body>
</html>
