<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡§°‡•ã‡§®‡§∞ ‡§∏‡§∞‡•ç‡§ö ‚Ä¢ ‡§∞‡§ï‡•ç‡§§‡§¶‡§æ‡§§‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</title>
  
<!-- Tailwind + Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: { devanagari: ['"Noto Sans Devanagari"', 'system-ui', 'sans-serif'] },
        colors: {
          saffron: { 50:'#FFF4E8',100:'#FFE8D6',200:'#FFD7B3',300:'#FFC48A',400:'#FFA24D',500:'#FF7F0E',600:'#E06900',700:'#C25700',800:'#A34500',900:'#873800' },
          peach: { 50:'#FFF7EF',100:'#FFEFE0',200:'#FFE3C6' }
        }
      }
    }
  }
</script>
<style>
  body { font-family: "Noto Sans Devanagari", system-ui, sans-serif; }
  .toast { position: fixed; inset-inline: 0; top: 10px; margin-inline: auto; width: fit-content; z-index: 50; }
</style>

</head>
<body class="min-h-screen bg-slate-50">
  <div id="toast" class="toast hidden"></div>
  
<header class="bg-gradient-to-r from-saffron-800 to-saffron-600 text-white">
  <div class="max-w-6xl mx-auto px-4 py-2"></div>
</header>

  
<section class="relative overflow-hidden">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-[url('https://upload.wikimedia.org/wikipedia/commons/6/6d/Official_portrait_of_prime_minister_of_India%2C_Narendra_Modi.jpg')] bg-cover bg-center opacity-20"></div>
    <div class="absolute inset-0 bg-gradient-to-b from-white/90 via-peach-50/90 to-white/95"></div>
  </div>
  <div class="relative max-w-6xl mx-auto px-4 py-6">
    <div class="mx-auto text-center bg-white/70 backdrop-blur-sm border rounded-3xl px-5 sm:px-8 py-6 shadow">
      <div class="text-slate-900 text-3xl sm:text-4xl font-extrabold">‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ú‡§®‡§§‡§æ ‡§™‡§æ‡§∞‡•ç‡§ü‡•Ä ‚Ä¢ ‡§ú‡§ø‡§≤‡§æ ‡§Æ‡§Ç‡§¶‡§∏‡•å‡§∞</div>
      <div class="mt-1 text-6xl sm:text-7xl font-extrabold text-red-700 leading-tight">‡§∞‡§ï‡•ç‡§§‡§¶‡§æ‡§§‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</div>
      <p class="mt-3 text-slate-700 text-base sm:text-lg max-w-3xl mx-auto">
        ‡§Æ‡§æ‡§®‡§®‡•Ä‡§Ø ‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§∂‡•ç‡§∞‡•Ä ‡§®‡§∞‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Æ‡•ã‡§¶‡•Ä ‡§ú‡•Ä ‡§ï‡•á ‡§ú‡§®‡•ç‡§Æ ‡§¶‡§ø‡§µ‡§∏ <b>17 ‡§∏‡§ø‡§§‡§Æ‡•ç‡§¨‡§∞</b> ‡§ï‡•á ‡§Ö‡§µ‡§∏‡§∞ ‡§™‡§∞, ‡§Ø‡§π ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§Ü‡§Æ ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§ ‡§π‡•à‡•§
      </p>
      <div class="mt-4 inline-flex items-center gap-3 bg-white rounded-2xl px-3 py-2 border">
        <img src="seva-pakhwada-2025-clean-1024.png" alt="‡§∏‡•á‡§µ‡§æ ‡§™‡§ñ‡§µ‡§æ‡§°‡§º‡§æ 2025" class="h-12 w-auto rounded" />
        <span class="text-sm">‡§∞‡§ï‡•ç‡§§‡§¶‡§æ‡§® ‚Ä¢ ‡§∏‡•á‡§µ‡§æ ‚Ä¢ ‡§∏‡§π‡§Ø‡•ã‡§ó</span>
      </div>
    </div>
  </div>
</section>


  <main class="max-w-6xl mx-auto p-4 space-y-4">
    <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-sm border">
      <div class="flex items-center justify-between gap-2 flex-wrap">
        <h2 class="text-lg font-semibold">‡§°‡•ã‡§®‡§∞ ‡§∏‡§∞‡•ç‡§ö</h2>
        <div id="resultInfo" class="text-sm text-slate-500"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-3">
        <input id="qText" class="rounded-xl border px-4 py-3 text-base" placeholder="‡§®‡§æ‡§Æ/‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤/‡§µ‡§æ‡§∞‡•ç‡§°/‡§¨‡•Ç‡§•/‡§™‡§§‡§æ" />
        <select id="qGroup" class="rounded-xl border px-4 py-3 text-base"></select>
        <select id="qMandal" class="rounded-xl border px-4 py-3 text-base"></select>
      </div>
      <div class="mt-3 flex flex-wrap gap-2" id="chipGroups"></div>

      <p class="mt-3 text-xs sm:text-sm text-slate-600">
        ‡§∞‡§ï‡•ç‡§§‡§¶‡§æ‡§§‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§è‡§µ‡§Ç ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§®‡§ø‡§Ø‡§Æ‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§Ü‡§™ 3 ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§°‡•ã‡§®‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á‡•§
        ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡•Ä‡§ö‡•á ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§≠‡•á‡§ú‡•á‡§Ç; ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§∂‡•Ä‡§ò‡•ç‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡•Ä‡•§
      </p>

      <div id="cardGrid" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-3"></div>
    </div>

    <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-sm border">
      <h3 class="text-base font-semibold mb-3">‡§∞‡§ï‡•ç‡§§ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß</h3>
      <form id="reqForm" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div>
          <label class="text-sm text-slate-600">‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
          <input id="r_requester" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" required autocomplete="name" />
        </div>
        <div>
          <label class="text-sm text-slate-600">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤</label>
          <input id="r_phone" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" pattern="[0-9]{10}" inputmode="numeric" autocomplete="tel" required />
        </div>
        <div>
          <label class="text-sm text-slate-600">‡§ú‡§∞‡•Ç‡§∞‡§§‡§Æ‡§Ç‡§¶ ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
          <input id="r_patient" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" />
        </div>
        <div>
          <label class="text-sm text-slate-600">‡§¨‡•ç‡§≤‡§° ‡§ó‡•ç‡§∞‡•Å‡§™</label>
          <select id="r_group" class="mt-1 w-full rounded-xl border px-4 py-3 text-base"></select>
        </div>
        <div>
          <label class="text-sm text-slate-600">‡§Ø‡•Ç‡§®‡§ø‡§ü</label>
          <input type="number" min="1" id="r_units" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" value="1" />
        </div>
        <div>
          <label class="text-sm text-slate-600">‡§∏‡•ç‡§•‡§æ‡§®</label>
          <input id="r_location" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" placeholder="‡§µ‡§æ‡§∞‡•ç‡§°/‡§è‡§∞‡§ø‡§Ø‡§æ/‡§∂‡§π‡§∞" />
        </div>
        <div class="sm:col-span-2">
          <label class="text-sm text-slate-600">‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤/‡§®‡•ã‡§ü‡•ç‡§∏</label>
          <textarea id="r_hospital" class="mt-1 w-full rounded-xl border px-4 py-3 text-base" rows="2" placeholder="‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤, ‡§°‡•â‡§ï‡•ç‡§ü‡§∞, ‡§Ö‡§®‡•ç‡§Ø"></textarea>
        </div>
        <div class="sm:col-span-2 flex items-center gap-3">
          <button class="px-5 py-3 rounded-xl bg-saffron-700 text-white font-semibold">‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§≠‡•á‡§ú‡•á‡§Ç</button>
          <span id="reqMsg" class="text-sm"></span>
        </div>
      </form>
    </div>
  </main>

  <footer class="max-w-6xl mx-auto p-4 text-xs text-slate-500 text-center">¬© <span id="year"></span> ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ú‡§®‡§§‡§æ ‡§™‡§æ‡§∞‡•ç‡§ü‡•Ä ‚Ä¢ ‡§ú‡§ø‡§≤‡§æ ‡§Æ‡§Ç‡§¶‡§∏‡•å‡§∞</footer>

  <script>
    const MANDALS = ["‡§Ö‡§®‡•ç‡§Ø","‡§≠‡•á‡§Ç‡§∏‡•ã‡§¶‡§æ","‡§≠‡§æ‡§®‡§™‡•Å‡§∞‡§æ","‡§ó‡§∞‡•ã‡§†","‡§Æ‡•á‡§≤‡§ñ‡•á‡§°‡§æ","‡§ñ‡•ú‡§æ‡§µ‡§¶‡§æ","‡§∂‡§æ‡§Æ‡§ó‡•ù","‡§∏‡•Å‡§µ‡§æ‡§∏‡§∞‡§æ","‡§¨‡§∏‡§æ‡§à","‡§∏‡•Ä‡§§‡§æ‡§Æ‡§ä","‡§ï‡•ç‡§Ø‡§æ‡§Æ‡§™‡•Å‡§∞","‡§∏‡•Ä‡§§‡§æ‡§Æ‡§ä ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£","‡§ó‡•Å‡§∞‡•ç‡§ú‡§∞ ‡§¨‡§∞‡§°‡§ø‡§Ø‡§æ","‡§ß‡•Å‡§Ç‡§ß‡§ß‡•ú‡§ï‡§æ","‡§¨‡•Å‡§¢‡§æ","‡§™‡§ø‡§™‡§≤‡§ø‡§Ø‡§æ ‡§Æ‡§Ç‡§°‡•Ä","‡§Æ‡§≤‡•ç‡§π‡§æ‡§∞‡§ó‡•ù","‡§¶‡§≤‡•ã‡§¶‡§æ","‡§Æ‡§ó‡§∞‡§æ‡§Æ‡§æ‡§§‡§æ ‡§ú‡•Ä","‡§Æ‡§Ç‡§¶‡§∏‡•å‡§∞ ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£","‡§Æ‡§Ç‡§¶‡§∏‡•å‡§∞ ‡§â‡§§‡•ç‡§§‡§∞","‡§Æ‡§Ç‡§¶‡§∏‡•å‡§∞ ‡§¶‡§ï‡•ç‡§∑‡§ø‡§£","‡§Ö‡§®‡•ç‡§Ø ‡§ú‡§ø‡§≤‡•á ‡§∏‡•á"];
    const BLOOD_GROUPS = ["A+","A-","B+","B-","O+","O-","AB+","AB-"];
    const $ = (id)=>document.getElementById(id);
    const fill = (el, arr, first)=>{ el.innerHTML=''; if(first) el.insertAdjacentHTML('beforeend', `<option value="">${first}</option>`); arr.forEach(x=> el.insertAdjacentHTML('beforeend', `<option value="${x}">${x}</option>`)); }
    document.getElementById('year').textContent = new Date().getFullYear();
    fill($('qGroup'), BLOOD_GROUPS, '‡§¨‡•ç‡§≤‡§° ‡§ó‡•ç‡§∞‡•Å‡§™');
    fill($('qMandal'), MANDALS, '‡§Æ‡§Ç‡§°‡§≤');
    fill($('r_group'), BLOOD_GROUPS, '‡§ö‡•Å‡§®‡•á‡§Ç');
    const cg = document.getElementById('chipGroups');
    BLOOD_GROUPS.forEach(g=>{ const b=document.createElement('button'); b.type='button'; b.className='px-3 py-1 rounded-full bg-peach-100 text-saffron-800 border hover:bg-white'; b.textContent=g; b.onclick=()=>{ $('qGroup').value=g; render(); }; cg.appendChild(b); });
    const fmtTS = (ts)=>{ try{ const d = ts?.toDate? ts.toDate(): new Date(ts); return d.toLocaleDateString('en-GB'); }catch{ return '' } };
    const isWilling = (d)=>{ if(!d) return true; const w=d.willing; if(w===false) return false; if(typeof w==='string'){ const s=w.trim().toLowerCase(); if(['no','‡§®‡§π‡•Ä‡§Ç','nahi','nai'].includes(s)) return false; } return true; };

    const TELEGRAM_BOT_TOKEN = "8462350268:AAH2Za886P4VPrLbLWa-RcxL0pbRNwwIfKQ";
    const TELEGRAM_CHAT_ID = "@bjpbloodbot";
    async function sendTelegram(text) {
      const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
      try {
        const res = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type':'application/json' },
          body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text })
        });
        if(!res.ok) throw new Error('HTTP '+res.status);
      } catch(err) {
        const img = new Image();
        img.src = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage?chat_id=${encodeURIComponent(TELEGRAM_CHAT_ID)}&text=${encodeURIComponent(text)}`;
      }
    }
    function showToast(html, ok=true) {
      const t = document.getElementById('toast'); t.className = 'toast';
      t.innerHTML = `<div class="mx-auto max-w-lg bg-white border rounded-2xl shadow px-4 py-3 ${ok?'border-green-600':'border-red-600'}"><div class="text-sm ${ok?'text-green-700':'text-red-700'}">${html}</div></div>`;
      setTimeout(()=> t.classList.add('hidden'), 3500);
    }
  </script>

  <script type="module">
    const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js');
    const { getFirestore, collection, onSnapshot, query, orderBy, addDoc, serverTimestamp } = await import('https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js');
    
const firebaseConfig = {
  apiKey: "AIzaSyA9LZaQJkAqr9F1YEFfRxa4aGiwvFevs9c",
  authDomain: "blodddonation-9c44e.firebaseapp.com",
  projectId: "blodddonation-9c44e",
  storageBucket: "blodddonation-9c44e.firebasestorage.app",
  messagingSenderId: "636578091772",
  appId: "1:636578091772:web:276d08168f8fc9c221fd79",
  measurementId: "G-3TPG0JCF3R"
};

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    let donors = [];
    onSnapshot(query(collection(db,'donors'), orderBy('createdAt','desc')), snap=>{ donors = snap.docs.map(d=>({ id:d.id, ...d.data() })); render(); });

    ['qText','qGroup','qMandal'].forEach(id=> document.getElementById(id).addEventListener('input', render));

    function render(){
      const $ = (id)=>document.getElementById(id);
      const t = $('qText').value.trim().toLowerCase();
      const g = $('qGroup').value;
      const m = $('qMandal').value;
      const rowsAll = donors.filter(d=>{
        const okText = !t || [d.name,d.phone,d.address,d.city].some(v=> (v||'').toLowerCase().includes(t));
        const okG = !g || d.bloodGroup===g;
        const okM = !m || d.mandal===m;
        return okText && okG && okM && isWilling(d);
      });
      const rows = rowsAll.slice(0,3);
      $('resultInfo').textContent = rowsAll.length ? `${rows.length}/${rowsAll.length} ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ (‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§∏‡•Ä‡§Æ‡§æ)` : '‡§ï‡•ã‡§à ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç';
      const grd = $('cardGrid'); grd.innerHTML='';
      rows.forEach(d=>{
        const waNum = (d.whatsapp || d.phone || '').replace(/\D/g,'');
        const msg = encodeURIComponent(`‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞ ${d.name||''}, ‡§∞‡§ï‡•ç‡§§‡§¶‡§æ‡§® ‡§π‡•á‡§§‡•Å ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§`);
        const addressLine = d.address ? `<div><b>‡§µ‡§æ‡§∞‡•ç‡§°/‡§¨‡•Ç‡§•/‡§™‡§§‡§æ:</b> ${d.address}</div>` : '';
        grd.insertAdjacentHTML('beforeend', `
          <div class="bg-white border rounded-2xl p-3 flex flex-col gap-2">
            <div class="flex items-center justify-between">
              <div class="font-semibold text-slate-800">${d.name||''}</div>
              <span class="text-xs px-2 py-1 rounded-full bg-peach-100 text-saffron-800 border">${d.bloodGroup||''}</span>
            </div>
            <div class="text-sm text-slate-600">
              <div><b>‡§Æ‡§Ç‡§°‡§≤:</b> ${d.mandal||'‚Äî'}</div>
              ${addressLine}
              <div><b>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:</b> <a class="underline" href="tel:${d.phone||''}">${d.phone||''}</a></div>
              ${d.whatsapp ? `<div><b>‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§ê‡§™:</b> <a class="underline" href="https://wa.me/${waNum}">+91 ${waNum}</a></div>` : ''}
              <div><b>‡§Ü‡§ñ‡§º‡§ø‡§∞‡•Ä ‡§¶‡§æ‡§®:</b> ${d.lastDonationDate? fmtTS(d.lastDonationDate):'‚Äî'}</div>
            </div>
            <div class="flex gap-2 pt-1">
              <a class="px-3 py-2 rounded-xl bg-saffron-700 text-white text-sm" href="tel:${d.phone||''}">‡§ï‡•â‡§≤</a>
              <a class="px-3 py-2 rounded-xl bg-green-600 text-white text-sm" target="_blank" href="https://wa.me/${waNum}?text=${msg}">‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§ê‡§™</a>
            </div>
          </div>`);
      });
    }

    document.getElementById('reqForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const $ = (id)=>document.getElementById(id);
      const payload = {
        requester: $('r_requester').value.trim(),
        phone: $('r_phone').value.trim().replace(/[^0-9]/g,''),
        patient: $('r_patient').value.trim(),
        bloodGroup: $('r_group').value,
        units: Number($('r_units').value||1),
        location: $('r_location').value.trim(),
        hospital: $('r_hospital').value.trim(),
        createdAt: serverTimestamp(),
        status: "new"
      };
      const msg = $('reqMsg'); msg.textContent='';
      try {
        await addDoc(collection(db,'requests'), payload);
        msg.className = 'text-green-700';
        msg.textContent = '‚úÖ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§π‡•ã ‡§ó‡§Ø‡§æ‡•§ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§∂‡•Ä‡§ò‡•ç‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡•Ä‡•§';
        showToast('‡§Ü‡§™‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§¶‡§∞‡•ç‡§ú ‡§π‡•ã ‡§ó‡§Ø‡§æ‡•§', true);
        sendTelegram(`üÜò ‡§∞‡§ï‡•ç‡§§ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß\n‡§®‡§æ‡§Æ: ${payload.requester}\n‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: ${payload.phone}\n‡§∞‡•ã‡§ó‡•Ä: ${payload.patient||'-'}\n‡§¨‡•ç‡§≤‡§°: ${payload.bloodGroup||'-'} (${payload.units} ‡§Ø‡•Ç‡§®‡§ø‡§ü)\n‡§∏‡•ç‡§•‡§æ‡§®: ${payload.location||'-'}\n‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤/‡§®‡•ã‡§ü‡•ç‡§∏: ${payload.hospital||'-'}`);
        e.target.reset();
      } catch(err) {
        console.error(err);
        msg.className = 'text-red-700'; msg.textContent = '‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§';
        showToast('‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§≠‡•á‡§ú‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•Å‡§à‡•§', false);
      }
    });
  </script>
</body>
</html>
